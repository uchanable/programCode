<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="vidth=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

</head>

<body>
    <h1>Hello world</h1>
    <div class="container">
        <div>이름 : <input type="text" id="name" /></div>
        <div>지역 :
            <select id="city" onchange="changeCity()">
                <!-- <option value="02" selected>서울</option>
                <option value="064">제주</option> -->
            </select>
        </div>
        <div>동네 :
            <select id="region_02">
                <option value="강남">강남</option>
                <option value="서초">서초</option>
            </select>
            <select id="region_064" style="display:none;">
                <option value="제주시">제주시</option>
                <option value="서귀포시">서귀포시</option>
            </select>
        </div>
        <button type="button" onclick="regist();">등록</button>
    </div>



    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
        integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
        crossorigin="anonymous"></script>

    <script>
        function regist() {
            // alert(document.getElementById("name").value);
            //  alert(document.getElementById("city").value);
            alert($("#name").val());
            alert($("#city").val());

            let obj = {
                // key : "value"
                name: "",
                city: "",
                region: ""
            }; // 키를 추가 안해도 밑에꺼를 실행시키면 키가 자동으로 등록된다. 오브젝트 안에 오브젝트 담을 수 있고 배열도 담을 수 있다.

            obj.name = $("#name").val();
            obj.city = $("#city").val();
            obj.region = $("#region_" + $("#city").val()).val();

            printConsole(obj);
            //console.log(obj);


        }
        function printConsole(data) {
            console.log(data);
        }

        function loadCity() {
            let city = [
                { code: "02", name: "서울" },
                { code: "064", name: "제주도" }
            ];

            for(let i=0; i<city.length; i++){
                if(i==0) $('#city').append('<option value="'+city[i].code+'" selected>'+city[i].name+'</option>');
                else $('#city').append('<option value="'+city[i].code+'">'+city[i].name+'</option>');
            }

            // $('#city').append('<option value="02" selected>서울</option>');
            // $('#city').append('<option value="064">제주</option>');
            
        }
        loadCity();

        function changeCity() {
            // let city = document.getElementById("city").value;
            // document.getElementById("region_02").style.display = "none";
            // document.getElementById("region_064").style.display = "none";
            // document.getElementById("region_" + city).style.display = "";
            let city = $("#city").val();
            $("#region_02").hide();
            $("#region_064").hide()
            $("#region_" + city).show();

            let obj = {
                // key : "value"
                name: "",
                city: "",
                region: ""
            };

            obj.name = $("#name").val();
            obj.city = $("#city").val();
            obj.region = $("#region_" + city).val();
            console.log(obj);
        }

        // js는 사용자의 인풋에 대한 인터랙션을 하기 위한 장치
        // var, let, const : 변수선언할때 알아두어야 할것들

        // var : 똑같은 변수를 사용해도 됨. 맨 밑에있는 중복된 변수가 우선시됨. 덮어쓰기됨
        // let : 동일한 변수를 중복해서 사용할 수 없음. 에러가 뜸. error : 변수 has already declared.
        // const : 선언 후에 z + 2 를 실행해도 안됨. 절대 바꿀 수 없는 값이 const가 됨
        var x = 1;
        x = x + 2;

        let y = 1;
        y = y + 2;

        document.getElementById("name").value = 3;
        alert(x);
    </script>
</body>

</html>